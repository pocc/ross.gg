<header class="border-b" style="border-color: var(--card-border);">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between">
    <a href="/" class="font-display text-xl font-bold hover:opacity-80 transition-opacity">
      Ross Jacobs
    </a>

    <!-- Desktop nav -->
    <nav class="hidden md:flex items-center gap-6">
      {{ range .Site.Menus.main }}
      <a href="{{ .URL }}" class="text-sm font-medium transition-colors hover:opacity-70"
         {{ if $.IsMenuCurrent "main" . }}style="color: var(--accent);"{{ end }}>
        {{ .Name }}
      </a>
      {{ end }}
      <button id="theme-toggle" aria-label="Toggle dark mode"
              class="p-2 rounded-lg transition-colors hover:opacity-70">
        <svg class="w-4 h-4 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
        </svg>
        <svg class="w-4 h-4 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
      </button>
    </nav>

    <!-- Mobile menu button -->
    <button id="mobile-menu-btn" class="md:hidden p-2" aria-label="Menu"
            aria-expanded="false" aria-controls="mobile-menu">
      <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>

  <!-- Mobile nav -->
  <nav id="mobile-menu" class="hidden md:hidden border-t px-4 py-4 space-y-3" style="border-color: var(--card-border);">
    {{ range .Site.Menus.main }}
    <a href="{{ .URL }}" class="block text-sm font-medium"
       {{ if $.IsMenuCurrent "main" . }}style="color: var(--accent);"{{ end }}>{{ .Name }}</a>
    {{ end }}
    <button id="mobile-theme-toggle" class="text-sm font-medium">Toggle theme</button>
  </nav>

  <script>
    function toggleTheme() {
      var html = document.documentElement;
      html.classList.toggle('dark');
      localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
    }

    document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    document.getElementById('mobile-theme-toggle').addEventListener('click', toggleTheme);

    (function() {
      var btn = document.getElementById('mobile-menu-btn');
      var menu = document.getElementById('mobile-menu');
      btn.addEventListener('click', function() {
        var isHidden = menu.classList.toggle('hidden');
        btn.setAttribute('aria-expanded', isHidden ? 'false' : 'true');
      });
    })();
  </script>
</header>
